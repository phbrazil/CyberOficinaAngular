(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{jcJX:function(r,e,i){"use strict";i.r(e),i.d(e,"AccountModule",(function(){return D}));var o=i("3Pt+"),t=i("ofXK"),n=i("tyNb"),s=i("J9tS"),b=i("fXoL"),a=function(){function r(r,e){this.router=r,this.accountService=e,this.accountService.userValue&&this.router.navigate(["/"])}return r.\u0275fac=function(e){return new(e||r)(b.Lb(n.d),b.Lb(s.a))},r.\u0275cmp=b.Fb({type:r,selectors:[["ng-component"]],decls:2,vars:0,consts:[[1,"col-md-6","offset-md-3","mt-5"]],template:function(r,e){1&r&&(b.Qb(0,"div",0),b.Mb(1,"router-outlet"),b.Pb())},directives:[n.h],encapsulation:2}),r}(),c=i("SxV6");function d(r,e){1&r&&(b.Qb(0,"div"),b.xc(1,"Usu\xe1rio ou Email necess\xe1rio"),b.Pb())}function f(r,e){if(1&r&&(b.Qb(0,"div",21),b.wc(1,d,2,0,"div",22),b.Pb()),2&r){var i=b.Zb();b.zb(1),b.fc("ngIf",i.f.username.errors.required)}}function u(r,e){1&r&&(b.Qb(0,"div"),b.xc(1,"Senha necess\xe1ria"),b.Pb())}function m(r,e){if(1&r&&(b.Qb(0,"div",21),b.wc(1,u,2,0,"div",22),b.Pb()),2&r){var i=b.Zb();b.zb(1),b.fc("ngIf",i.f.password.errors.required)}}function l(r,e){1&r&&b.Mb(0,"span",23)}var p=function(r){return{"is-invalid":r}};function v(r,e){1&r&&(b.Qb(0,"div"),b.xc(1,"Primeiro Nome necess\xe1rio"),b.Pb())}function g(r,e){if(1&r&&(b.Qb(0,"div",42),b.wc(1,v,2,0,"div",43),b.Pb()),2&r){var i=b.Zb();b.zb(1),b.fc("ngIf",i.f.firstName.errors.required)}}function P(r,e){1&r&&(b.Qb(0,"div"),b.xc(1,"\xdaltimo nome necess\xe1rio"),b.Pb())}function Q(r,e){if(1&r&&(b.Qb(0,"div",42),b.wc(1,P,2,0,"div",43),b.Pb()),2&r){var i=b.Zb();b.zb(1),b.fc("ngIf",i.f.lastName.errors.required)}}function h(r,e){1&r&&(b.Qb(0,"div"),b.xc(1,"Email necess\xe1rio"),b.Pb())}function C(r,e){if(1&r&&(b.Qb(0,"div",42),b.wc(1,h,2,0,"div",43),b.Pb()),2&r){var i=b.Zb();b.zb(1),b.fc("ngIf",i.f.email.errors.required)}}function w(r,e){1&r&&(b.Qb(0,"div"),b.xc(1,"CPF/CNPJ necess\xe1rio"),b.Pb())}function x(r,e){if(1&r&&(b.Qb(0,"div",42),b.wc(1,w,2,0,"div",43),b.Pb()),2&r){var i=b.Zb();b.zb(1),b.fc("ngIf",i.f.cpfcnpj.errors.required)}}function z(r,e){1&r&&(b.Qb(0,"div"),b.xc(1,"Usu\xe1rio necess\xe1rio"),b.Pb())}function I(r,e){if(1&r&&(b.Qb(0,"div",42),b.wc(1,z,2,0,"div",43),b.Pb()),2&r){var i=b.Zb();b.zb(1),b.fc("ngIf",i.f.username.errors.required)}}function y(r,e){1&r&&(b.Qb(0,"div"),b.xc(1,"Senha necess\xe1ria"),b.Pb())}function N(r,e){1&r&&(b.Qb(0,"div"),b.xc(1,"Senha deve conter ao menos 6 caract\xe9res"),b.Pb())}function q(r,e){if(1&r&&(b.Qb(0,"div",42),b.wc(1,y,2,0,"div",43),b.wc(2,N,2,0,"div",43),b.Pb()),2&r){var i=b.Zb();b.zb(1),b.fc("ngIf",i.f.password.errors.required),b.zb(1),b.fc("ngIf",i.f.password.errors.minlength)}}function S(r,e){1&r&&(b.Qb(0,"div"),b.xc(1,"CEP necess\xe1rio"),b.Pb())}function M(r,e){if(1&r&&(b.Qb(0,"div",42),b.wc(1,S,2,0,"div",43),b.Pb()),2&r){var i=b.Zb();b.zb(1),b.fc("ngIf",i.f.cep.errors.required)}}function j(r,e){1&r&&(b.Qb(0,"div"),b.xc(1,"Logradouro necess\xe1rio"),b.Pb())}function L(r,e){if(1&r&&(b.Qb(0,"div",42),b.wc(1,j,2,0,"div",43),b.Pb()),2&r){var i=b.Zb();b.zb(1),b.fc("ngIf",i.a.logradouro.errors.required)}}function k(r,e){1&r&&(b.Qb(0,"div"),b.xc(1,"N\xfamero necess\xe1rio"),b.Pb())}function Z(r,e){if(1&r&&(b.Qb(0,"div",42),b.wc(1,k,2,0,"div",43),b.Pb()),2&r){var i=b.Zb();b.zb(1),b.fc("ngIf",i.a.numero.errors.required)}}function E(r,e){1&r&&(b.Qb(0,"div"),b.xc(1,"Bairro necess\xe1rio"),b.Pb())}function O(r,e){if(1&r&&(b.Qb(0,"div",42),b.wc(1,E,2,0,"div",43),b.Pb()),2&r){var i=b.Zb();b.zb(1),b.fc("ngIf",i.a.bairro.errors.required)}}function B(r,e){1&r&&(b.Qb(0,"div"),b.xc(1,"Cidade necess\xe1ria"),b.Pb())}function F(r,e){if(1&r&&(b.Qb(0,"div",42),b.wc(1,B,2,0,"div",43),b.Pb()),2&r){var i=b.Zb();b.zb(1),b.fc("ngIf",i.a.cidade.errors.required)}}function J(r,e){1&r&&(b.Qb(0,"div"),b.xc(1,"Estado necess\xe1rio"),b.Pb())}function U(r,e){if(1&r&&(b.Qb(0,"div",42),b.wc(1,J,2,0,"div",43),b.Pb()),2&r){var i=b.Zb();b.zb(1),b.fc("ngIf",i.a.estado.errors.required)}}function A(r,e){1&r&&(b.Qb(0,"div"),b.xc(1,"Estado necess\xe1ria"),b.Pb())}function R(r,e){if(1&r&&(b.Qb(0,"div",42),b.wc(1,A,2,0,"div",43),b.Pb()),2&r){var i=b.Zb();b.zb(1),b.fc("ngIf",i.a.uf.errors.required)}}function X(r,e){1&r&&b.Mb(0,"span",44)}var G=function(r){return{"is-invalid":r}},V=[{path:"",component:a,children:[{path:"login",component:function(){function r(r,e,i,o,t){this.formBuilder=r,this.route=e,this.router=i,this.accountService=o,this.alertService=t,this.loading=!1,this.submitted=!1}return r.prototype.ngOnInit=function(){this.form=this.formBuilder.group({username:["",o.m.required],password:["",o.m.required]}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"},Object.defineProperty(r.prototype,"f",{get:function(){return this.form.controls},enumerable:!1,configurable:!0}),r.prototype.onSubmit=function(){var r=this;this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.loading=!0,this.accountService.login(this.f.username.value,this.f.password.value).pipe(Object(c.a)()).subscribe((function(e){console.log(e),localStorage.setItem("firstName",e.firstName),localStorage.setItem("lastName",e.lastName),localStorage.setItem("userName",e.username),localStorage.setItem("email",e.emails),r.router.navigate([r.returnUrl])}),(function(e){r.alertService.error(401==e.status?"Acesso Negado":e.status),r.loading=!1})))},r.\u0275fac=function(e){return new(e||r)(b.Lb(o.b),b.Lb(n.a),b.Lb(n.d),b.Lb(s.a),b.Lb(s.b))},r.\u0275cmp=b.Fb({type:r,selectors:[["app-login"]],decls:33,vars:11,consts:[[1,"position"],[1,"card"],[1,"col-md-12"],[1,"row"],[1,"intro-content"],[1,"d-flex","justify-content-left","mt-2"],["src","assets/img/logo_home.png","alt","",1,"img-responsive","img-centered",2,"width","20%","height","20%"],[1,"brand-name","mb-2","text-muted","mt-4"],[1,"col-md-10"],[1,"brand-name-subtext","text-muted","mt-4"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","username"],["type","text","formControlName","username",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","password"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","../register",1,"btn","btn-link"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(r,e){1&r&&(b.Qb(0,"div",0),b.Qb(1,"div",1),b.Qb(2,"div",2),b.Qb(3,"div",3),b.Qb(4,"div",4),b.Qb(5,"div",2),b.Qb(6,"div",5),b.Mb(7,"img",6),b.Qb(8,"div",7),b.Qb(9,"h2"),b.xc(10,"Cyber Oficina"),b.Pb(),b.Pb(),b.Pb(),b.Qb(11,"div",8),b.Qb(12,"div",9),b.Qb(13,"strong"),b.xc(14,"Encontre um especialista sem sair de casa"),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(15,"div",10),b.Qb(16,"form",11),b.Xb("ngSubmit",(function(){return e.onSubmit()})),b.Qb(17,"div",12),b.Qb(18,"label",13),b.xc(19,"Usu\xe1rio/Email"),b.Pb(),b.Mb(20,"input",14),b.wc(21,f,2,1,"div",15),b.Pb(),b.Qb(22,"div",12),b.Qb(23,"label",16),b.xc(24,"Senha"),b.Pb(),b.Mb(25,"input",17),b.wc(26,m,2,1,"div",15),b.Pb(),b.Qb(27,"div",12),b.Qb(28,"button",18),b.wc(29,l,1,0,"span",19),b.xc(30," Entrar "),b.Pb(),b.Qb(31,"a",20),b.xc(32,"Registrar"),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb()),2&r&&(b.zb(16),b.fc("formGroup",e.form),b.zb(4),b.fc("ngClass",b.ic(7,p,e.submitted&&e.f.username.errors)),b.zb(1),b.fc("ngIf",e.submitted&&e.f.username.errors),b.zb(4),b.fc("ngClass",b.ic(9,p,e.submitted&&e.f.password.errors)),b.zb(1),b.fc("ngIf",e.submitted&&e.f.password.errors),b.zb(2),b.fc("disabled",e.loading),b.zb(1),b.fc("ngIf",e.loading))},directives:[o.n,o.i,o.d,o.a,o.h,o.c,t.j,t.l,n.f],styles:["@media only screen and (max-width:600px){.position[_ngcontent-%COMP%]{z-index:-1000000}}"]}),r}()},{path:"register",component:function(){function r(r,e,i,o,t){this.formBuilder=r,this.route=e,this.router=i,this.accountService=o,this.alertService=t,this.loading=!1,this.submitted=!1}return r.prototype.isCPF=function(){return null==this.formulario.value.cpfcnpj||this.formulario.value.cpfcnpj.length<12},r.prototype.getCpfCnpjMask=function(){return this.isCPF()?"000.000.000-009":"00.000.000/0000-00"},r.prototype.ngOnInit=function(){this.address=this.formBuilder.group({logradouro:["",o.m.required],bairro:["",o.m.required],cidade:["",o.m.required],estado:["",o.m.required],uf:["",o.m.required]}),this.formulario=this.formBuilder.group({firstName:["",o.m.required],lastName:["",o.m.required],username:["",o.m.required],email:["",o.m.required],cpfcnpj:["",o.m.required],password:["",[o.m.required,o.m.minLength(6)]],cep:["",o.m.required],address:this.formBuilder.group({logradouro:["",o.m.required],numero:["",o.m.required],complemento:[""],bairro:["",o.m.required],cidade:["",o.m.required],estado:["",o.m.required],uf:["",o.m.required]})})},Object.defineProperty(r.prototype,"f",{get:function(){return this.formulario.controls},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"a",{get:function(){return this.address.controls},enumerable:!1,configurable:!0}),r.prototype.getCep=function(r){var e=this;""!==(r=r.replace(/\D/g,""))?/^[0-9]{8}$/.test(r)&&this.accountService.cep(r).pipe(Object(c.a)()).subscribe((function(r){e.patchAddress(r)}),(function(r){e.alertService.error(r),e.loading=!1})):this.alertService.error("Cep inv\xe1lido",{keepAfterRouteChange:!0})},r.prototype.patchAddress=function(r){var e={logradouro:r.dados.logradouro,bairro:r.dados.bairro,cidade:r.dados.cidade,estado:r.dados.estado,complemento:r.dados.complemento,uf:r.dados.uf};this.formulario.get("address").patchValue(e)},r.prototype.onSubmit=function(){var r=this;this.submitted=!0,this.alertService.clear(),this.formulario.invalid||this.formulario.get("address").invalid||(this.loading=!0,this.accountService.register(this.formulario.value).pipe(Object(c.a)()).subscribe((function(e){r.alertService.success("Registro efetuado com sucesso",{keepAfterRouteChange:!0}),r.router.navigate(["../login"],{relativeTo:r.route})}),(function(e){r.alertService.error(e),r.loading=!1})))},r.\u0275fac=function(e){return new(e||r)(b.Lb(o.b),b.Lb(n.a),b.Lb(n.d),b.Lb(s.a),b.Lb(s.b))},r.\u0275cmp=b.Fb({type:r,selectors:[["app-register"]],decls:87,vars:55,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"col-md-12"],[1,"form-group"],["for","firstName"],["type","text","formControlName","firstName",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","lastName"],["type","text","formControlName","lastName",1,"form-control",3,"ngClass"],["for","username"],["type","email","formControlName","email",1,"form-control",3,"ngClass"],["for","cpfcnpj"],["matInput","","mask","000.000.000-00||00.000.000/0000-00","type","text","formControlName","cpfcnpj",1,"form-control",3,"ngClass"],["type","text","formControlName","username",1,"form-control",3,"ngClass"],["for","password"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],[1,"hr-dark"],["for","cep"],["formControlName","cep","type","number",1,"form-control",3,"ngClass","change"],["formGroupName","address"],["for","logradouro"],["formControlName","logradouro","type","text",1,"form-control",3,"ngClass"],[1,"row"],[1,"col-md-4"],["for","numero"],["formControlName","numero","type","text",1,"form-control",3,"ngClass"],[1,"col-md-8"],["for","complemento"],["formControlName","complemento","type","text",1,"form-control"],["for","bairro"],["type","text","formControlName","bairro",1,"form-control",3,"ngClass"],["for","cidade"],["type","text","formControlName","cidade",1,"form-control",3,"ngClass"],["for","estado"],["type","text","formControlName","estado",1,"form-control",3,"ngClass"],["for","uf"],["type","text","formControlName","uf",1,"form-control",3,"ngClass"],[1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["routerLink","../login",1,"btn","btn-link"],[1,"invalid-feedback"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(r,e){1&r&&(b.Qb(0,"div",0),b.Qb(1,"h4",1),b.xc(2,"Registrar"),b.Pb(),b.Qb(3,"div",2),b.Qb(4,"form",3),b.Xb("ngSubmit",(function(){return e.onSubmit()})),b.Qb(5,"div",4),b.Qb(6,"div",5),b.Qb(7,"label",6),b.xc(8,"Primeiro Nome"),b.Pb(),b.Mb(9,"input",7),b.wc(10,g,2,1,"div",8),b.Pb(),b.Qb(11,"div",5),b.Qb(12,"label",9),b.xc(13,"\xdaltimo Nome"),b.Pb(),b.Mb(14,"input",10),b.wc(15,Q,2,1,"div",8),b.Pb(),b.Qb(16,"div",5),b.Qb(17,"label",11),b.xc(18,"Email"),b.Pb(),b.Mb(19,"input",12),b.wc(20,C,2,1,"div",8),b.Pb(),b.Qb(21,"div",5),b.Qb(22,"label",13),b.xc(23,"CPF / CNPJ"),b.Pb(),b.Mb(24,"input",14),b.wc(25,x,2,1,"div",8),b.Pb(),b.Qb(26,"div",5),b.Qb(27,"label",11),b.xc(28,"Usu\xe1rio"),b.Pb(),b.Mb(29,"input",15),b.wc(30,I,2,1,"div",8),b.Pb(),b.Qb(31,"div",5),b.Qb(32,"label",16),b.xc(33,"Senha"),b.Pb(),b.Mb(34,"input",17),b.wc(35,q,3,2,"div",8),b.Pb(),b.Mb(36,"hr",18),b.Qb(37,"div",5),b.Qb(38,"label",19),b.xc(39,"CEP"),b.Pb(),b.Qb(40,"input",20),b.Xb("change",(function(r){return e.getCep(r.target.value)})),b.Pb(),b.wc(41,M,2,1,"div",8),b.Pb(),b.Qb(42,"div",21),b.Qb(43,"div",5),b.Qb(44,"label",22),b.xc(45,"Logradouro"),b.Pb(),b.Mb(46,"input",23),b.wc(47,L,2,1,"div",8),b.Pb(),b.Qb(48,"div",5),b.Qb(49,"div",24),b.Qb(50,"div",25),b.Qb(51,"label",26),b.xc(52,"N\xfamero"),b.Pb(),b.Mb(53,"input",27),b.wc(54,Z,2,1,"div",8),b.Pb(),b.Qb(55,"div",28),b.Qb(56,"label",29),b.xc(57,"Complemento"),b.Pb(),b.Mb(58,"input",30),b.Pb(),b.Pb(),b.Pb(),b.Qb(59,"div",5),b.Qb(60,"label",31),b.xc(61,"Bairro"),b.Pb(),b.Mb(62,"input",32),b.wc(63,O,2,1,"div",8),b.Pb(),b.Qb(64,"div",5),b.Qb(65,"label",33),b.xc(66,"Cidade"),b.Pb(),b.Mb(67,"input",34),b.wc(68,F,2,1,"div",8),b.Pb(),b.Qb(69,"div",5),b.Qb(70,"div",24),b.Qb(71,"div",28),b.Qb(72,"label",35),b.xc(73,"Estado"),b.Pb(),b.Mb(74,"input",36),b.wc(75,U,2,1,"div",8),b.Pb(),b.Qb(76,"div",25),b.Qb(77,"label",37),b.xc(78,"UF"),b.Pb(),b.Mb(79,"input",38),b.wc(80,R,2,1,"div",8),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(81,"div",5),b.Qb(82,"button",39),b.wc(83,X,1,0,"span",40),b.xc(84," Registrar "),b.Pb(),b.Qb(85,"a",41),b.xc(86,"Cancelar"),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb()),2&r&&(b.zb(4),b.fc("formGroup",e.formulario),b.zb(5),b.fc("ngClass",b.ic(29,G,e.submitted&&e.f.firstName.errors)),b.zb(1),b.fc("ngIf",e.submitted&&e.f.firstName.errors),b.zb(4),b.fc("ngClass",b.ic(31,G,e.submitted&&e.f.lastName.errors)),b.zb(1),b.fc("ngIf",e.submitted&&e.f.lastName.errors),b.zb(4),b.fc("ngClass",b.ic(33,G,e.submitted&&e.f.email.errors)),b.zb(1),b.fc("ngIf",e.submitted&&e.f.email.errors),b.zb(4),b.fc("ngClass",b.ic(35,G,e.submitted&&e.f.cpfcnpj.errors)),b.zb(1),b.fc("ngIf",e.submitted&&e.f.cpfcnpj.errors),b.zb(4),b.fc("ngClass",b.ic(37,G,e.submitted&&e.f.username.errors)),b.zb(1),b.fc("ngIf",e.submitted&&e.f.username.errors),b.zb(4),b.fc("ngClass",b.ic(39,G,e.submitted&&e.f.password.errors)),b.zb(1),b.fc("ngIf",e.submitted&&e.f.password.errors),b.zb(5),b.fc("ngClass",b.ic(41,G,e.submitted&&e.f.cep.errors)),b.zb(1),b.fc("ngIf",e.submitted&&e.f.cep.errors),b.zb(5),b.fc("ngClass",b.ic(43,G,e.submitted&&e.a.logradouro.errors)),b.zb(1),b.fc("ngIf",e.submitted&&e.a.logradouro.errors),b.zb(6),b.fc("ngClass",b.ic(45,G,e.submitted&&e.a.numero.errors)),b.zb(1),b.fc("ngIf",e.submitted&&e.a.numero.errors),b.zb(8),b.fc("ngClass",b.ic(47,G,e.submitted&&e.a.bairro.errors)),b.zb(1),b.fc("ngIf",e.submitted&&e.a.bairro.errors),b.zb(4),b.fc("ngClass",b.ic(49,G,e.submitted&&e.a.cidade.errors)),b.zb(1),b.fc("ngIf",e.submitted&&e.a.cidade.errors),b.zb(6),b.fc("ngClass",b.ic(51,G,e.submitted&&e.a.estado.errors)),b.zb(1),b.fc("ngIf",e.submitted&&e.a.estado.errors),b.zb(4),b.fc("ngClass",b.ic(53,G,e.submitted&&e.a.uf.errors)),b.zb(1),b.fc("ngIf",e.submitted&&e.a.uf.errors),b.zb(2),b.fc("disabled",e.loading),b.zb(1),b.fc("ngIf",e.loading))},directives:[o.n,o.i,o.d,o.a,o.h,o.c,t.j,t.l,o.k,o.e,n.f],encapsulation:2}),r}()}]}],_=function(){function r(){}return r.\u0275mod=b.Jb({type:r}),r.\u0275inj=b.Ib({factory:function(e){return new(e||r)},imports:[[n.g.forChild(V)],n.g]}),r}(),D=function(){function r(){}return r.\u0275mod=b.Jb({type:r}),r.\u0275inj=b.Ib({factory:function(e){return new(e||r)},imports:[[t.c,o.l,_]]}),r}()}}]);